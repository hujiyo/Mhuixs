# 基础命令测试文件 - 测试各种NAQL基础命令的解析

# 基础信息查询命令
WHERE;
DESC;

# 基础GET命令测试
GET test_key;
GET 1;
GET 0 5;
GET LEN;
GET COUNT;
GET KEYS;

# 基础SET命令测试
SET test_key "test_value";
SET 1 "list_value";
SET 0 1;
SET TYPE STREAM key1 key2;

# 基础DEL命令测试
DEL test_key;
DEL key1 key2 key3;
DEL 1;

# HOOK操作命令测试
HOOK;
HOOK KVALOT test_db;
HOOK test_db;
HOOK DEL test_db;
HOOK CLEAR test_db;
HOOK COPY src_db dst_db;
HOOK SWAP db1 db2;
HOOK MERGE src_db dst_db;
HOOK RENAME old_name new_name;

# 权限和锁定命令测试
RANK test_obj 5;
GET RANK test_obj;
GET TYPE test_obj;
LOCK test_obj 1000;
UNLOCK test_obj;
CHMOD test_obj 755;
GET CHMOD test_obj;

# 存在性检查命令
EXISTS key1 key2 key3;
SELECT "pattern*";

# 键值操作命令
KEY test_key;
COPY src_key dst_key;
SWAP key1 key2;
RENAME old_key new_key;
EXPIRE test_key 60000;
PERSIST test_key;
TTL test_key;
INCR counter_key;
DECR counter_key;
INCR counter_key 5;
DECR counter_key 3;

# LIST操作命令测试
LPUSH "item1";
RPUSH "item2";
LPOP;
RPOP;
INSERT 1 "inserted_item";
SWAP 1 2;
COPY 1 3;
CLEAR;
REVERSE;
SORT ASC;
SORT DESC;
UNIQUE;
FIND "item1";
COUNT "item1";
JOIN src_list;

# STREAM操作命令测试
APPEND "data";
APPEND 10 "positioned_data";
MERGE src_stream;

# BITMAP操作命令测试
FLIP 5;
FLIP 1 10;
FILL 1;
FIND 1;
FIND 1 5;
AND src_bitmap;
OR src_bitmap;
XOR src_bitmap;
NOT;
SHIFT LEFT 3;
SHIFT RIGHT 2 MATHS;
GET SIZE;
RESIZE 100;
JOIN src_bitmap;

# TABLE操作命令测试
FIELD ADD name str NOTNULL;
FIELD INSERT 1 age i4 DEFAULT;
FIELD SWAP 1 2;
FIELD DEL 1 2;
FIELD SET ATTRIBUTE 1 UNIQUE;
FIELD GET INFO 1;
ADD "John" 25 "john@example.com";
INSERT 1 "Jane" 30 "jane@example.com";
GET 1 2;
GET FIELD name;
GET POS 1 1 2 2;
GET WHERE name;
SET WHERE age name "Updated";
DEL WHERE age;
SORT name ASC;
INDEX CREATE name btree;
INDEX DEL name;

# 系统管理命令测试
SYSTEM INFO;
SYSTEM STATUS;
SYSTEM REGISTER;
SYSTEM CLEANUP;
SYSTEM BACKUP "/backup/path";
SYSTEM RESTORE "/backup/path";
SYSTEM LOG INFO;
SYSTEM LOG WARN;
SYSTEM LOG ERROR;

# 事务命令测试
MULTI;
EXEC;
ASYNC GET async_key;
SYNC;

# 导入导出命令测试
EXPORT test_obj json;
EXPORT test_obj csv;
EXPORT test_obj binary;
IMPORT test_obj json "json_data";
IMPORT test_obj csv "csv_data";

# 时间和等待命令测试
WAIT 100;

# 备份和压缩命令测试
BACKUP test_obj;
ZS test_obj 5;

# 跨HOOK操作测试
HOOK JOIN hook1 hook2 new_hook;
KEY JOIN key1 key2 new_key;

# 变量操作测试（本地处理）
$test_var "test_value";
GET $test_var;
SET $test_var "new_value";
DEL $test_var;

# 测试完成标记
SET basic_test_complete "SUCCESS";
GET basic_test_complete; 